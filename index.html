<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Évaluation Sociologie</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h2>Évaluation de Sociologie</h2>

  <div id="login">
    <p>Entrez vos informations pour commencer ou revoir votre copie.</p>
    <input type="text" id="nom" placeholder="Nom complet (ex: Jean Dupont)">
    <input type="text" id="matricule" placeholder="Matricule (ex: 12345)">
    <div style="display: flex; gap: 10px; flex-direction: column;">
        <button onclick="startQuiz()" style="background-color: #27ae60;">Commencer l'évaluation</button>
        <button onclick="checkMyResults()" style="background-color: #2980b9;">Voir mes résultats</button>
    </div>
  </div>

  <div id="student-review" style="display:none;">
      <button onclick="window.location.reload()" style="background:#7f8c8d; margin-bottom:15px; width: auto; padding: 10px;">&larr; Retour</button>
      <div id="review-content"></div>
  </div>

  <div id="quiz" style="display:none;">
    <h3 id="question-number">Question</h3>
    <p id="question-text" style="font-weight: bold; font-size: 1.1em;"></p>
    <div id="options"></div>
    <button id="btn-valider" onclick="submitAnswer()">Valider la réponse</button>
    <div id="feedback-zone" style="margin-top:15px; min-height: 60px;">
        <p id="feedback"></p>
        <p id="correction" style="font-weight:bold; color:#2c3e50;"></p>
    </div>
  </div>

  <div id="result" style="display:none; text-align:center;">
      <h3>Évaluation terminée</h3>
      <div id="score-display" style="font-size: 2.5em; color: #27ae60; margin: 20px 0;"></div>
      <button onclick="window.location.reload()">Quitter</button>
  </div>

  <hr style="margin-top: 30px;">
  <button class="admin-btn" onclick="window.location.href='admin.html'" style="background:#7f8c8d; color: white; border: none; padding: 10px; width: 100%; cursor: pointer;">Accès Professeur (Admin)</button>
</div>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
<script src="questions.js"></script>
<script src="app.js"></script>
</body>
</html>
